(this.webpackJsonppages=this.webpackJsonppages||[]).push([[0],{128:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),l=t(27),i=t.n(l),c=(t(39),t(14)),s=t(16),u=t(28),o=t.n(u),d=t(15),m=t.n(d),p=t(29),b=t(2);function f(){return(new Date).getTime()}function g(e,n){var t=Object(r.useRef)(null),a=Object(r.useRef)(null),l=Object(r.useRef)(null),i=Object(r.useState)(!1),c=Object(b.a)(i,2),s=c[0],u=c[1],o=Object(r.useState)(!1),d=Object(b.a)(o,2),g=d[0],v=d[1],E=Object(r.useState)(!1),O=Object(b.a)(E,2),j=O[0],h=O[1],R=Object(r.useState)(!1),y=Object(b.a)(R,2),S=y[0],w=y[1],k=Object(r.useState)(!1),x=Object(b.a)(k,2),T=x[0],W=x[1],J=Object(r.useState)(null),N=Object(b.a)(J,2),P=N[0],C=N[1],M=Object(r.useState)(null),q=Object(b.a)(M,2),B=q[0],I=q[1],z=Object(r.useState)(null),A=Object(b.a)(z,2),D=A[0],Y=A[1],$=Object(r.useState)(null),F=Object(b.a)($,2),G=F[0],H=F[1],K=Object(r.useState)(null),L=Object(b.a)(K,2),Q=L[0],U=L[1];function V(){return(V=Object(p.a)(m.a.mark((function n(r){var i,c,s,o;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a.current=r,i=t.current+1,t.current=i,n.prev=3,c=e(),console.log("response = ",l.current),console.log("isResolved = ",g),s=!!l.current,console.log("refresh = ",s),W(s),H(c),U(null),u(!0),v(!1),h(!1),w(!1),C(f()),I(null),Y(f()),n.next=21,c;case 21:if(o=n.sent,i===t.current){n.next=24;break}return n.abrupt("return");case 24:l.current=o,v(!0),n.next=35;break;case 28:if(n.prev=28,n.t0=n.catch(3),i===t.current){n.next=32;break}return n.abrupt("return");case 32:l.current=null,U(n.t0),h(!0);case 35:u(!1),w(!0),W(!1),I(f()),Y(f());case 40:case"end":return n.stop()}}),n,null,[[3,28]])})))).apply(this,arguments)}var X=Object(r.useCallback)((function(e){!function(e){V.apply(this,arguments)}(e)}),[]);return Object(r.useEffect)((function(){X(n)}),[X]),{callWaiter:X,params:a.current,id:t.current,request:G,response:l.current,error:Q,isPending:s,isResolved:g,isRejected:j,isCompleted:S,isRefreshing:T,lastModified:D,startTime:P,endTime:B,elapsedTime:B?B-P:null}}function v(){var e=Object(c.a)(["\n  padding: 20px;\n  margin-bottom: 10px;\n  color: ",";\n  border: 1px solid #ccc;\n  border-color: ",";\n  display: block;\n"]);return v=function(){return e},e}function E(){var e=Object(c.a)(["\n  cursor: pointer;\n  padding: 8px 20px;\n  background: none;\n  font-size: 16px;\n  :hover {\n     background: #efefef;\n  }\n"]);return E=function(){return e},e}var O=s.a.button(E()),j=s.a.div(v(),(function(e){var n=e.isPending,t=e.isResolved,r=e.isRejected;return n?"orange":t?"green":r?"red":"black"}),(function(e){var n=e.isPending,t=e.isResolved,r=e.isRejected;return n?"orange":t?"green":r?"red":"black"}));function h(){return new Promise((function(e,n){setTimeout((function(){Math.floor(10*Math.random())%2!==1?e({success:!0}):n({message:"Sorry, rejected"})}),5e3)}))}function R(){var e=g(h,{param1:"hello"}),n=e.id,t=e.params,r=e.callWaiter,l=e.response,i=e.error,c=e.isPending,s=e.isResolved,u=e.isRejected,d=e.isCompleted,m=e.isRefreshing,p=e.startTime,b=e.endTime,f=e.elapsedTime,v=e.lastModified;return a.a.createElement("div",{style:{margin:"20px auto",width:"900px",padding:"20px"}},a.a.createElement("h1",null,"react-waiter"),a.a.createElement("div",null,"Managing the promise lifecyle for you react applications."),a.a.createElement("br",null),a.a.createElement("hr",null),a.a.createElement("br",null),a.a.createElement("h2",null,"useWaiter()"),a.a.createElement("div",null,a.a.createElement(o.a,{source:'\n      function myRequest(params) {\n        return apiRequest(params)\n      }\n\n      const myWaiter = usewaiter( myrequest, { param1: "hello" })\n\n      const {\n        id,\n        params,\n\n        callWaiter,\n        response,\n        error,\n\n        isPending,\n        isResolved,\n        isRejected,\n        isCompleted,\n        isRefreshing,\n\n        startTime,\n        endTime,\n        elapsedTime,\n        lastModified\n      } = myWaiter'})),a.a.createElement("h2",null,"Run example"),a.a.createElement("div",{style:{width:"35%",display:"inline-block",padding:"15px",verticalAlign:"top"}},"Button onClick with initiate callWaiter(",JSON.stringify({preWaiterId:n}),")",a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement(O,{onClick:function(){return r({prevWaiterId:n})}},"Run with new params"),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement(j,{isPending:c,isResolved:s,isRejected:u},c&&"...working",s&&"Yes, success!",u&&"Oh no, error",a.a.createElement("br",null),a.a.createElement("br",null),"params: ",JSON.stringify(t),a.a.createElement("br",null),a.a.createElement("br",null),s&&a.a.createElement("span",null,"response: ",JSON.stringify(l)),u&&a.a.createElement("span",null,"error: ",JSON.stringify(i)))),a.a.createElement("div",{style:{width:"55%",display:"inline-block",padding:"15px",border:"solid 1px #ddd"}},a.a.createElement("div",null,"id: ",JSON.stringify(n)),a.a.createElement("div",null,"params: ",JSON.stringify(t)),a.a.createElement("br",null),a.a.createElement("div",null,"response: ",JSON.stringify(l)),a.a.createElement("div",null,"error: ",JSON.stringify(i)),a.a.createElement("br",null),a.a.createElement("div",null,"isPending: ",c.toString()),a.a.createElement("div",null,"isResolved: ",s.toString()),a.a.createElement("div",null,"isRejected: ",u.toString()),a.a.createElement("div",null,"isCompleted: ",d.toString()),a.a.createElement("div",null,"isRefreshing: ",m.toString()),a.a.createElement("br",null),a.a.createElement("div",null,"startTime: ",p),a.a.createElement("div",null,"endTime: ",b),a.a.createElement("div",null,"elapsedTime: ",f),a.a.createElement("div",null,"lastModified: ",v)))}var y=function(){return a.a.createElement("div",null,a.a.createElement(R,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},34:function(e,n,t){e.exports=t(128)},39:function(e,n,t){}},[[34,1,2]]]);
//# sourceMappingURL=main.aa751537.chunk.js.map