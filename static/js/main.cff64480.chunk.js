(this.webpackJsonppages=this.webpackJsonppages||[]).push([[0],{128:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),l=t(27),i=t.n(l),c=(t(39),t(14)),s=t(16),o=t(28),u=t.n(o),d=t(15),m=t.n(d),p=t(29),b=t(2);function f(){return(new Date).getTime()}function g(e,n){var t=Object(r.useRef)(null),a=Object(r.useRef)(null),l=Object(r.useState)(!1),i=Object(b.a)(l,2),c=i[0],s=i[1],o=Object(r.useState)(!1),u=Object(b.a)(o,2),d=u[0],g=u[1],v=Object(r.useState)(!1),E=Object(b.a)(v,2),j=E[0],O=E[1],h=Object(r.useState)(!1),y=Object(b.a)(h,2),S=y[0],R=y[1],w=Object(r.useState)(null),x=Object(b.a)(w,2),k=x[0],T=x[1],J=Object(r.useState)(null),N=Object(b.a)(J,2),W=N[0],P=N[1],M=Object(r.useState)(null),C=Object(b.a)(M,2),q=C[0],I=C[1],B=Object(r.useState)(null),z=Object(b.a)(B,2),A=z[0],D=z[1],Y=Object(r.useState)(null),$=Object(b.a)(Y,2),F=$[0],G=$[1],H=Object(r.useState)(null),K=Object(b.a)(H,2),L=K[0],Q=K[1];function U(){return(U=Object(p.a)(m.a.mark((function n(r){var l,i,c;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a.current=r,l=t.current+1,t.current=l,n.prev=3,i=e(r),D(i),Q(null),s(!0),g(!1),O(!1),R(!1),T(f()),P(null),I(f()),n.next=16,i;case 16:if(c=n.sent,l===t.current){n.next=19;break}return n.abrupt("return");case 19:G(c),g(!0),n.next=30;break;case 23:if(n.prev=23,n.t0=n.catch(3),l===t.current){n.next=27;break}return n.abrupt("return");case 27:G(null),Q(n.t0),O(!0);case 30:s(!1),R(!0),P(f()),I(f());case 34:case"end":return n.stop()}}),n,null,[[3,23]])})))).apply(this,arguments)}var V=Object(r.useCallback)((function(e){!function(e){U.apply(this,arguments)}(e)}),[]);return Object(r.useEffect)((function(){V(n)}),[V]),{callWaiter:V,params:a.current,id:t.current,request:A,response:F,error:L,isPending:c,isResolved:d,isRejected:j,isCompleted:S,lastModified:q,startTime:k,endTime:W,elapsedTime:W?W-k:null}}function v(){var e=Object(c.a)(["\n  padding: 20px;\n  margin-bottom: 10px;\n  color: ",";\n  border: 1px solid #ccc;\n  border-color: ",";\n  display: block;\n"]);return v=function(){return e},e}function E(){var e=Object(c.a)(["\n  cursor: pointer;\n  padding: 8px 20px;\n  background: none;\n  font-size: 16px;\n  :hover {\n     background: #efefef;\n  }\n"]);return E=function(){return e},e}var j=s.a.button(E()),O=s.a.div(v(),(function(e){var n=e.isPending,t=e.isResolved,r=e.isRejected;return n?"orange":t?"green":r?"red":"black"}),(function(e){var n=e.isPending,t=e.isResolved,r=e.isRejected;return n?"orange":t?"green":r?"red":"black"}));function h(){return console.log("init testRequest = "),new Promise((function(e,n){console.log("init promise = "),setTimeout((function(){console.log("on timeout = ");var t=Math.floor(10*Math.random());if(console.log("num = ",t),t%2===1)return console.log("on reject = "),void n({message:"Sorry, rejected"});console.log("on resolve = "),e({success:!0})}),5e3)}))}function y(){var e=g(h,{param1:"hello"}),n=e.id,t=e.params,r=e.callWaiter,l=e.response,i=e.error,c=e.isPending,s=e.isResolved,o=e.isRejected,d=e.isCompleted,m=e.startTime,p=e.endTime,b=e.elapsedTime,f=e.lastModified;return a.a.createElement("div",{style:{margin:"20px auto",width:"900px",padding:"20px"}},a.a.createElement("h1",null,"react-waiter"),a.a.createElement("div",null,"Managing the promise lifecyle for you react applications."),a.a.createElement("br",null),a.a.createElement("hr",null),a.a.createElement("br",null),a.a.createElement("h2",null,"useWaiter()"),a.a.createElement("div",null,a.a.createElement(u.a,{source:'\n      function myRequest(params) {\n        return apiRequest(params)\n      }\n\n      const {\n        id,\n        params,\n\n        callWaiter,\n        response,\n        error,\n\n        isPending,\n        isResolved,\n        isRejected,\n        isCompleted,\n\n        startTime,\n        endTime,\n        elapsedTime,\n        lastModified\n      } = useWaiter(\n        myRequest,\n        { param1: "hello" }\n      ))'})),a.a.createElement("h2",null,"Run example"),a.a.createElement("div",{style:{width:"35%",display:"inline-block",padding:"15px",verticalAlign:"top"}},a.a.createElement(j,{onClick:function(){return r({prevWaiterId:n})}},"Run with new params"),a.a.createElement("br",null),a.a.createElement("br",null),"New params will be:",a.a.createElement("br",null),a.a.createElement("br",null),JSON.stringify({prevWaiterId:n}),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement(O,{isPending:c,isResolved:s,isRejected:o},c&&"...working",s&&"Yes, success!",o&&"Oh no, error",a.a.createElement("br",null),a.a.createElement("br",null),"params: ",JSON.stringify(t),a.a.createElement("br",null),a.a.createElement("br",null),s&&a.a.createElement("span",null,"response: ",JSON.stringify(l)),o&&a.a.createElement("span",null,"error: ",JSON.stringify(i)))),a.a.createElement("div",{style:{width:"55%",display:"inline-block",padding:"15px",border:"solid 1px #ddd"}},a.a.createElement("div",null,"id: ",JSON.stringify(n)),a.a.createElement("div",null,"params: ",JSON.stringify(t)),a.a.createElement("br",null),a.a.createElement("div",null,"response: ",JSON.stringify(l)),a.a.createElement("div",null,"error: ",JSON.stringify(i)),a.a.createElement("br",null),a.a.createElement("div",null,"isPending: ",c.toString()),a.a.createElement("div",null,"isResolved: ",s.toString()),a.a.createElement("div",null,"isRejected: ",o.toString()),a.a.createElement("div",null,"isCompleted: ",d.toString()),a.a.createElement("br",null),a.a.createElement("div",null,"startTime: ",m),a.a.createElement("div",null,"endTime: ",p),a.a.createElement("div",null,"elapsedTime: ",b),a.a.createElement("div",null,"lastModified: ",f)))}var S=function(){return a.a.createElement("div",null,a.a.createElement(y,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},34:function(e,n,t){e.exports=t(128)},39:function(e,n,t){}},[[34,1,2]]]);
//# sourceMappingURL=main.cff64480.chunk.js.map