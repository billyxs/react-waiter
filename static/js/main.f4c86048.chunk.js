(this.webpackJsonppages=this.webpackJsonppages||[]).push([[0],{128:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),l=n(27),i=n.n(l),c=(n(39),n(14)),u=n(16),s=n(28),o=n.n(s),d=n(15),m=n.n(d),b=n(29),p=n(2);function f(){return(new Date).getTime()}function g(e,t){var n=Object(r.useRef)(null),a=Object(r.useRef)(null),l=Object(r.useRef)(null),i=Object(r.useRef)(!1),c=Object(r.useState)(null),u=Object(p.a)(c,2),s=u[0],o=u[1],d=Object(r.useState)(null),g=Object(p.a)(d,2),E=g[0],v=g[1],h=Object(r.useState)(!1),j=Object(p.a)(h,2),O=j[0],y=j[1],w=Object(r.useState)(!1),S=Object(p.a)(w,2),k=S[0],x=S[1],R=Object(r.useState)(!1),C=Object(p.a)(R,2),W=C[0],T=C[1],J=Object(r.useState)(!1),N=Object(p.a)(J,2),P=N[0],M=N[1],q=Object(r.useState)(!1),I=Object(p.a)(q,2),B=I[0],z=I[1],H=Object(r.useState)(null),A=Object(p.a)(H,2),D=A[0],G=A[1],Y=Object(r.useState)(null),$=Object(p.a)(Y,2),F=$[0],K=$[1],L=Object(r.useState)(null),Q=Object(p.a)(L,2),U=Q[0],V=Q[1];function X(){return(X=Object(b.a)(m.a.mark((function t(r){var c,u,s,d;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i.current=!1,a.current=r,c=n.current+1,n.current=c,t.prev=4,u=e(),s=!!l.current,z(s),o(u),v(null),y(!0),x(!1),T(!1),M(!1),G(f()),K(null),V(f()),t.next=19,u;case 19:if(d=t.sent,c===n.current){t.next=22;break}return t.abrupt("return");case 22:if(!i.current){t.next=24;break}return t.abrupt("return");case 24:l.current=d,x(!0),t.next=37;break;case 28:if(t.prev=28,t.t0=t.catch(4),c===n.current){t.next=32;break}return t.abrupt("return");case 32:if(!i.current){t.next=34;break}return t.abrupt("return");case 34:l.current=null,v(t.t0),T(!0);case 37:y(!1),M(!0),z(!1),K(f()),V(f());case 42:case"end":return t.stop()}}),t,null,[[4,28]])})))).apply(this,arguments)}var Z=Object(r.useCallback)((function(e){!function(e){X.apply(this,arguments)}(e)}),[]),_=Object(r.useCallback)((function(){n.current=null,i.current=!1,l.current=null,a.current=null,v(null),o(null),y(!1),x(!1),T(!1),M(!1),z(!1),G(null),K(null),V(f())}),[]),ee=Object(r.useCallback)((function(){P||(i.current=!0,l.current=null,o(null),v(null),y(!1),x(!1),T(!1),M(!1),z(!1),G(null),K(null),V(f()))}),[P]);return Object(r.useEffect)((function(){Z(t)}),[Z]),{callWaiter:Z,cancelWaiter:ee,clearWaiter:_,params:a.current,id:n.current,request:s,response:l.current,error:E,isPending:O,isResolved:k,isRejected:W,isCompleted:P,isRefreshing:B,isCanceled:i.current,lastModified:U,startTime:D,endTime:F,elapsedTime:F?F-D:null}}function E(){return a.a.createElement("div",null,a.a.createElement("h1",null,"react-waiter"," "," "," ",a.a.createElement("a",{className:"github-button",href:"https://github.com/billyxs/react-waiter","data-size":"large","aria-label":"Star billyxs/react-waiter on GitHub"},"Star")),a.a.createElement("div",null,"Managing the promise lifecyle for you react applications.",a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("a",{href:"https://npmjs.org/package/react-waiter"},a.a.createElement("img",{alt:"npm",src:"https://img.shields.io/npm/v/react-waiter"}))," ",a.a.createElement("a",{href:"https://travis-ci.org/billxys/react-waiter"},a.a.createElement("img",{src:"https://travis-ci.org/billyxs/react-waiter.svg?branch=master",alt:"travis build badge"}))),a.a.createElement("hr",null))}function v(){var e=Object(c.a)(["\n  padding: 20px;\n  margin-bottom: 10px;\n  color: ",";\n  border: 1px solid #ccc;\n  border-color: ",";\n  display: block;\n"]);return v=function(){return e},e}function h(){var e=Object(c.a)(["\n  cursor: pointer;\n  padding: 8px 20px;\n  background: none;\n  font-size: 16px;\n  :hover {\n     background: #efefef;\n  }\n"]);return h=function(){return e},e}var j=u.a.button(h()),O=u.a.div(v(),(function(e){var t=e.isPending,n=e.isResolved,r=e.isRejected;return e.isCanceled?"#666":t?"orange":n?"green":r?"red":"black"}),(function(e){var t=e.isPending,n=e.isResolved,r=e.isRejected;return e.isCanceled?"#666":t?"orange":n?"green":r?"red":"black"}));function y(){return new Promise((function(e,t){setTimeout((function(){Math.floor(10*Math.random())%2!==1?e({success:!0}):t({message:"Sorry, rejected"})}),5e3)}))}function w(){var e=g(y,{param1:"hello"}),t=e.id,n=e.params,r=e.callWaiter,l=e.cancelWaiter,i=e.clearWaiter,c=e.response,u=e.error,s=e.isPending,d=e.isResolved,m=e.isRejected,b=e.isCompleted,p=e.isRefreshing,f=e.isCanceled,v=e.startTime,h=e.endTime,w=e.elapsedTime,S=e.lastModified;return a.a.createElement("div",{style:{margin:"20px auto",width:"900px",padding:"20px"}},a.a.createElement(E,null),a.a.createElement("h2",null,"Example"),a.a.createElement("div",{style:{width:"35%",display:"inline-block",padding:"15px",verticalAlign:"top"}},"Button onClick with initiate callWaiter(",JSON.stringify({preWaiterId:t}),")",a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement(j,{onClick:function(){return r({prevWaiterId:t})}},"Run with new params"),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement(j,{onClick:function(){return l()}},"Cancel Waiter"),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement(j,{onClick:function(){return i()}},"Clear Waiter"),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement(O,{isPending:s,isResolved:d,isRejected:m,isCanceled:f},s&&"...working",d&&"Yes, success!",m&&"Oh no, error",f&&"Hey, I got canceled!",a.a.createElement("br",null),a.a.createElement("br",null),"params: ",JSON.stringify(n),a.a.createElement("br",null),a.a.createElement("br",null),d&&a.a.createElement("span",null,"response: ",JSON.stringify(c)),m&&a.a.createElement("span",null,"error: ",JSON.stringify(u)))),a.a.createElement("div",{style:{width:"55%",display:"inline-block",padding:"15px",border:"solid 1px #ddd"}},a.a.createElement("div",null,"id: ",JSON.stringify(t)),a.a.createElement("div",null,"params: ",JSON.stringify(n)),a.a.createElement("br",null),a.a.createElement("div",null,"response: ",JSON.stringify(c)),a.a.createElement("div",null,"error: ",JSON.stringify(u)),a.a.createElement("br",null),a.a.createElement("div",null,"isPending: ",s.toString()),a.a.createElement("div",null,"isResolved: ",d.toString()),a.a.createElement("div",null,"isRejected: ",m.toString()),a.a.createElement("div",null,"isCompleted: ",b.toString()),a.a.createElement("div",null,"isRefreshing: ",p.toString()),a.a.createElement("div",null,"isCanceled: ",f.toString()),a.a.createElement("br",null),a.a.createElement("div",null,"startTime: ",v),a.a.createElement("div",null,"endTime: ",h),a.a.createElement("div",null,"elapsedTime: ",w),a.a.createElement("div",null,"lastModified: ",S)),a.a.createElement("div",null,a.a.createElement("h2",null,"useWaiter()"),a.a.createElement("div",null,a.a.createElement(o.a,{source:'\n      function myRequest(params) {\n        return apiRequest(params)\n      }\n\n      const myWaiter = usewaiter( myrequest, { param1: "hello" })\n\n      const {\n        callWaiter,\n        cancelWaiter,\n        clearWaiter,\n\n        id,\n        params,\n        request,\n        response,\n        error,\n\n        isPending,\n        isResolved,\n        isRejected,\n        isCompleted,\n        isRefreshing,\n        isCanceled,\n\n        startTime,\n        endTime,\n        elapsedTime,\n        lastModified\n      } = myWaiter'}))))}var S=function(){return a.a.createElement("div",null,a.a.createElement(w,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},34:function(e,t,n){e.exports=n(128)},39:function(e,t,n){}},[[34,1,2]]]);
//# sourceMappingURL=main.f4c86048.chunk.js.map