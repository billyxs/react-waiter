(this.webpackJsonppages=this.webpackJsonppages||[]).push([[0],{128:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),l=t(27),i=t.n(l),c=(t(39),t(14)),u=t(16),s=t(28),o=t.n(s),d=t(15),m=t.n(d),p=t(29),b=t(2);function f(){return(new Date).getTime()}function g(e,n){var t=Object(r.useRef)(null),a=Object(r.useRef)(null),l=Object(r.useRef)(null),i=Object(r.useRef)(!1),c=Object(r.useState)(null),u=Object(b.a)(c,2),s=u[0],o=u[1],d=Object(r.useState)(null),g=Object(b.a)(d,2),E=g[0],v=g[1],O=Object(r.useState)(!1),j=Object(b.a)(O,2),h=j[0],y=j[1],R=Object(r.useState)(!1),k=Object(b.a)(R,2),S=k[0],w=k[1],x=Object(r.useState)(!1),C=Object(b.a)(x,2),W=C[0],T=C[1],J=Object(r.useState)(!1),N=Object(b.a)(J,2),P=N[0],M=N[1],q=Object(r.useState)(!1),I=Object(b.a)(q,2),B=I[0],z=I[1],A=Object(r.useState)(null),D=Object(b.a)(A,2),H=D[0],Y=D[1],$=Object(r.useState)(null),F=Object(b.a)($,2),G=F[0],K=F[1],L=Object(r.useState)(null),Q=Object(b.a)(L,2),U=Q[0],V=Q[1];function X(){return(X=Object(p.a)(m.a.mark((function n(r){var c,u,s,d;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i.current=!1,a.current=r,c=t.current+1,t.current=c,n.prev=4,u=e(),s=!!l.current,z(s),o(u),v(null),y(!0),w(!1),T(!1),M(!1),Y(f()),K(null),V(f()),n.next=19,u;case 19:if(d=n.sent,c===t.current){n.next=22;break}return n.abrupt("return");case 22:if(!i.current){n.next=24;break}return n.abrupt("return");case 24:l.current=d,w(!0),n.next=37;break;case 28:if(n.prev=28,n.t0=n.catch(4),c===t.current){n.next=32;break}return n.abrupt("return");case 32:if(!i.current){n.next=34;break}return n.abrupt("return");case 34:l.current=null,v(n.t0),T(!0);case 37:y(!1),M(!0),z(!1),K(f()),V(f());case 42:case"end":return n.stop()}}),n,null,[[4,28]])})))).apply(this,arguments)}var Z=Object(r.useCallback)((function(e){!function(e){X.apply(this,arguments)}(e)}),[]),_=Object(r.useCallback)((function(){t.current=null,i.current=!1,l.current=null,a.current=null,v(null),o(null),y(!1),w(!1),T(!1),M(!1),z(!1),Y(null),K(null),V(f())}),[]),ee=Object(r.useCallback)((function(){P||(i.current=!0,l.current=null,o(null),v(null),y(!1),w(!1),T(!1),M(!1),z(!1),Y(null),K(null),V(f()))}),[P]);return Object(r.useEffect)((function(){Z(n)}),[Z]),{callWaiter:Z,cancelWaiter:ee,clearWaiter:_,params:a.current,id:t.current,request:s,response:l.current,error:E,isPending:h,isResolved:S,isRejected:W,isCompleted:P,isRefreshing:B,isCanceled:i.current,lastModified:U,startTime:H,endTime:G,elapsedTime:G?G-H:null}}function E(){var e=Object(c.a)(["\n  padding: 20px;\n  margin-bottom: 10px;\n  color: ",";\n  border: 1px solid #ccc;\n  border-color: ",";\n  display: block;\n"]);return E=function(){return e},e}function v(){var e=Object(c.a)(["\n  cursor: pointer;\n  padding: 8px 20px;\n  background: none;\n  font-size: 16px;\n  :hover {\n     background: #efefef;\n  }\n"]);return v=function(){return e},e}var O=u.a.button(v()),j=u.a.div(E(),(function(e){var n=e.isPending,t=e.isResolved,r=e.isRejected;return e.isCanceled?"#666":n?"orange":t?"green":r?"red":"black"}),(function(e){var n=e.isPending,t=e.isResolved,r=e.isRejected;return e.isCanceled?"#666":n?"orange":t?"green":r?"red":"black"}));function h(){return new Promise((function(e,n){setTimeout((function(){Math.floor(10*Math.random())%2!==1?e({success:!0}):n({message:"Sorry, rejected"})}),5e3)}))}function y(){var e=g(h,{param1:"hello"}),n=e.id,t=e.params,r=e.callWaiter,l=e.cancelWaiter,i=e.clearWaiter,c=e.response,u=e.error,s=e.isPending,d=e.isResolved,m=e.isRejected,p=e.isCompleted,b=e.isRefreshing,f=e.isCanceled,E=e.startTime,v=e.endTime,y=e.elapsedTime,R=e.lastModified;return a.a.createElement("div",{style:{margin:"20px auto",width:"900px",padding:"20px"}},a.a.createElement("h1",null,"react-waiter"),a.a.createElement("div",null,"Managing the promise lifecyle for you react applications."),a.a.createElement("br",null),a.a.createElement("hr",null),a.a.createElement("br",null),a.a.createElement("h2",null,"useWaiter()"),a.a.createElement("div",null,a.a.createElement(o.a,{source:'\n      function myRequest(params) {\n        return apiRequest(params)\n      }\n\n      const myWaiter = usewaiter( myrequest, { param1: "hello" })\n\n      const {\n        callWaiter,\n        cancelWaiter,\n        clearWaiter,\n\n        id,\n        params,\n        request,\n        response,\n        error,\n\n        isPending,\n        isResolved,\n        isRejected,\n        isCompleted,\n        isRefreshing,\n        isCanceled,\n\n        startTime,\n        endTime,\n        elapsedTime,\n        lastModified\n      } = myWaiter'})),a.a.createElement("h2",null,"Run example"),a.a.createElement("div",{style:{width:"35%",display:"inline-block",padding:"15px",verticalAlign:"top"}},"Button onClick with initiate callWaiter(",JSON.stringify({preWaiterId:n}),")",a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement(O,{onClick:function(){return r({prevWaiterId:n})}},"Run with new params"),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement(O,{onClick:function(){return l()}},"Cancel Waiter"),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement(O,{onClick:function(){return i()}},"Clear Waiter"),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement(j,{isPending:s,isResolved:d,isRejected:m,isCanceled:f},s&&"...working",d&&"Yes, success!",m&&"Oh no, error",f&&"Hey, I got canceled!",a.a.createElement("br",null),a.a.createElement("br",null),"params: ",JSON.stringify(t),a.a.createElement("br",null),a.a.createElement("br",null),d&&a.a.createElement("span",null,"response: ",JSON.stringify(c)),m&&a.a.createElement("span",null,"error: ",JSON.stringify(u)))),a.a.createElement("div",{style:{width:"55%",display:"inline-block",padding:"15px",border:"solid 1px #ddd"}},a.a.createElement("div",null,"id: ",JSON.stringify(n)),a.a.createElement("div",null,"params: ",JSON.stringify(t)),a.a.createElement("br",null),a.a.createElement("div",null,"response: ",JSON.stringify(c)),a.a.createElement("div",null,"error: ",JSON.stringify(u)),a.a.createElement("br",null),a.a.createElement("div",null,"isPending: ",s.toString()),a.a.createElement("div",null,"isResolved: ",d.toString()),a.a.createElement("div",null,"isRejected: ",m.toString()),a.a.createElement("div",null,"isCompleted: ",p.toString()),a.a.createElement("div",null,"isRefreshing: ",b.toString()),a.a.createElement("div",null,"isCanceled: ",f.toString()),a.a.createElement("br",null),a.a.createElement("div",null,"startTime: ",E),a.a.createElement("div",null,"endTime: ",v),a.a.createElement("div",null,"elapsedTime: ",y),a.a.createElement("div",null,"lastModified: ",R)))}var R=function(){return a.a.createElement("div",null,a.a.createElement(y,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},34:function(e,n,t){e.exports=t(128)},39:function(e,n,t){}},[[34,1,2]]]);
//# sourceMappingURL=main.ce54dd70.chunk.js.map