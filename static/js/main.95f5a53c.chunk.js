(this.webpackJsonppages=this.webpackJsonppages||[]).push([[0],{323:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),l=n(29),i=n.n(l),c=(n(42),n(17)),s=n(19),u=(n(43),n(327)),o=n(326),d=n(18),m=n.n(d),p=n(30),b=n(3);function g(){return(new Date).getTime()}function f(e,t){var n=Object(r.useRef)(null),a=Object(r.useRef)(null),l=Object(r.useRef)(null),i=Object(r.useRef)(!1),c=Object(r.useState)(null),s=Object(b.a)(c,2),u=s[0],o=s[1],d=Object(r.useState)(null),f=Object(b.a)(d,2),E=f[0],v=f[1],h=Object(r.useState)(!1),j=Object(b.a)(h,2),O=j[0],C=j[1],k=Object(r.useState)(!1),y=Object(b.a)(k,2),x=y[0],W=y[1],w=Object(r.useState)(!1),S=Object(b.a)(w,2),R=S[0],T=S[1],M=Object(r.useState)(!1),P=Object(b.a)(M,2),B=P[0],J=P[1],N=Object(r.useState)(!1),q=Object(b.a)(N,2),I=q[0],G=q[1],z=Object(r.useState)(null),A=Object(b.a)(z,2),H=A[0],D=A[1],L=Object(r.useState)(null),Y=Object(b.a)(L,2),$=Y[0],F=Y[1],K=Object(r.useState)(null),Q=Object(b.a)(K,2),U=Q[0],V=Q[1];function X(){return(X=Object(p.a)(m.a.mark((function t(r){var c,s,u,d;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i.current=!1,a.current=r,c=n.current+1,n.current=c,t.prev=4,s=e(),u=!!l.current,G(u),o(s),v(null),C(!0),W(!1),T(!1),J(!1),D(g()),F(null),V(g()),t.next=19,s;case 19:if(d=t.sent,c===n.current){t.next=22;break}return t.abrupt("return");case 22:if(!i.current){t.next=24;break}return t.abrupt("return");case 24:l.current=d,W(!0),t.next=37;break;case 28:if(t.prev=28,t.t0=t.catch(4),c===n.current){t.next=32;break}return t.abrupt("return");case 32:if(!i.current){t.next=34;break}return t.abrupt("return");case 34:l.current=null,v(t.t0),T(!0);case 37:C(!1),J(!0),G(!1),F(g()),V(g());case 42:case"end":return t.stop()}}),t,null,[[4,28]])})))).apply(this,arguments)}var Z=Object(r.useCallback)((function(e){!function(e){X.apply(this,arguments)}(e)}),[]),_=Object(r.useCallback)((function(){n.current=null,i.current=!1,l.current=null,a.current=null,v(null),o(null),C(!1),W(!1),T(!1),J(!1),G(!1),D(null),F(null),V(g())}),[]),ee=Object(r.useCallback)((function(){null==n.current||B||(i.current=!0,l.current=null,o(null),v(null),C(!1),W(!1),T(!1),J(!1),G(!1),D(null),F(null),V(g()))}),[B]);return Object(r.useEffect)((function(){Z(t)}),[Z]),{callWaiter:Z,cancelWaiter:ee,clearWaiter:_,params:a.current,id:n.current,request:u,response:l.current,error:E,isPending:O,isResolved:x,isRejected:R,isCompleted:B,isRefreshing:I,isCanceled:i.current,lastModified:U,startTime:H,endTime:$,elapsedTime:$?$-H:null}}function E(){return a.a.createElement("div",null,a.a.createElement("h1",null,"react-waiter \xa0 \xa0",a.a.createElement("a",{className:"github-button",href:"https://github.com/billyxs/react-waiter","data-size":"large","aria-label":"Star hixme/hixme-ui on GitHub"},"Github")),a.a.createElement("div",null,"Managing the promise lifecyle for you react applications.",a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("a",{href:"https://npmjs.org/package/react-waiter"},a.a.createElement("img",{alt:"npm",src:"https://img.shields.io/npm/v/react-waiter"}))," ",a.a.createElement("a",{href:"https://travis-ci.org/billxys/react-waiter"},a.a.createElement("img",{src:"https://travis-ci.org/billyxs/react-waiter.svg?branch=master",alt:"travis build badge"}))," ",a.a.createElement("a",{href:"https://img.shields.io/npm/l/react-waiter?color=blue"},a.a.createElement("img",{alt:"NPM",src:"https://img.shields.io/npm/l/react-waiter?color=blue&label=license"}))),a.a.createElement("br",null),a.a.createElement("hr",null))}function v(){var e=Object(c.a)(["\n  padding: 20px;\n  margin-bottom: 10px;\n  color: ",";\n  border: 1px solid #ccc;\n  border-color: ",";\n  display: block;\n"]);return v=function(){return e},e}function h(){var e=Object(c.a)(["\n  cursor: pointer;\n  padding: 8px 20px;\n  background: none;\n  font-size: 16px;\n  :hover {\n     background: #efefef;\n  }\n"]);return h=function(){return e},e}var j=s.a.button(h()),O=s.a.div(v(),(function(e){var t=e.isPending,n=e.isResolved,r=e.isRejected;return e.isCanceled?"#666":t?"orange":n?"green":r?"red":"black"}),(function(e){var t=e.isPending,n=e.isResolved,r=e.isRejected;return e.isCanceled?"#666":t?"orange":n?"green":r?"red":"black"}));function C(){return new Promise((function(e,t){setTimeout((function(){Math.floor(10*Math.random())%2!==1?e({success:!0}):t({message:"Sorry, rejected"})}),5e3)}))}function k(){var e=f(C,{param1:"hello"}),t=e.id,n=e.params,r=e.callWaiter,l=e.cancelWaiter,i=e.clearWaiter,c=e.response,s=e.error,d=e.isPending,m=e.isResolved,p=e.isRejected,b=e.isCompleted,g=e.isRefreshing,v=e.isCanceled,h=e.startTime,k=e.endTime,y=e.elapsedTime,x=e.lastModified;return a.a.createElement("div",{style:{margin:"20px auto",width:"900px"}},a.a.createElement(E,null),a.a.createElement("br",null),a.a.createElement("h2",null,"Example"),a.a.createElement("div",{style:{width:"40%",display:"inline-block",padding:"15px 30px 15px 0px",verticalAlign:"top"}},a.a.createElement(j,{onClick:function(){return r({prevWaiterId:t})}},"Call Waiter with params"),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement(j,{onClick:function(){return l()}},"Cancel Waiter"),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement(j,{onClick:function(){return i()}},"Clear Waiter"),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("h3",null,"Button code"),a.a.createElement(u.a,{language:"javascript",style:o.a},"\n  <Button onClick={() =>\n    callWaiter({\n        prevWaiterId: id\n    })}\n    >\n    Call Waiter with params\n  </Button>\n\n  <Button onClick={cancelWaiter}>\n    Cancel Waiter\n  </Button>\n\n  <Button onClick={clearWaiter}>\n    Clear Waiter\n  </Button>\n\n")),a.a.createElement("div",{style:{width:"55%",display:"inline-block"}},a.a.createElement(O,{isPending:d,isResolved:m,isRejected:p,isCanceled:v},d&&"...working",m&&"Yes, success!",p&&"Oh no, error",v&&"Hey, I got canceled!",a.a.createElement("br",null),a.a.createElement("br",null),"params: ",JSON.stringify(n),a.a.createElement("br",null),a.a.createElement("br",null),m&&a.a.createElement("span",null,"response: ",JSON.stringify(c)),p&&a.a.createElement("span",null,"error: ",JSON.stringify(s))),a.a.createElement("div",{style:{padding:"15px",border:"solid 1px #ddd"}},a.a.createElement("div",null,"id: ",JSON.stringify(t)),a.a.createElement("div",null,"params: ",JSON.stringify(n)),a.a.createElement("br",null),a.a.createElement("div",null,"response: ",JSON.stringify(c)),a.a.createElement("div",null,"error: ",JSON.stringify(s)),a.a.createElement("br",null),a.a.createElement("div",null,"isPending: ",d.toString()),a.a.createElement("div",null,"isResolved: ",m.toString()),a.a.createElement("div",null,"isRejected: ",p.toString()),a.a.createElement("div",null,"isCompleted: ",b.toString()),a.a.createElement("div",null,"isRefreshing: ",g.toString()),a.a.createElement("div",null,"isCanceled: ",v.toString()),a.a.createElement("br",null),a.a.createElement("div",null,"startTime: ",h),a.a.createElement("div",null,"endTime: ",k),a.a.createElement("div",null,"elapsedTime: ",y),a.a.createElement("div",null,"lastModified: ",x))),a.a.createElement("div",null,a.a.createElement("h2",null,"useWaiter()"),a.a.createElement("div",null,a.a.createElement(u.a,{language:"javascript",style:o.a},"\n  function requestCreator(params) {\n    return getItem(params)\n  }\n\n  function MyComponent() {\n    const myWaiter = usewaiter( requestCreator, { id: 1 })\n\n    const {\n      callWaiter,\n      cancelWaiter,\n      clearWaiter,\n\n      id,\n      params,\n      request,\n      response,\n      error,\n\n      isPending,\n      isResolved,\n      isRejected,\n      isCompleted,\n      isRefreshing,\n      isCanceled,\n\n      startTime,\n      endTime,\n      elapsedTime,\n      lastModified\n    } = myWaiter\n\n    return (\n      <div>\n        <button onClick={cancelWaiter}>Cancel request</button>\n        <button onClick={cancelWaiter}>Clear</button>\n        <button onClick={() => callWaiter({ id: params.id + 1 })}>Get next item</button>\n\n        {isPending && '...loading'}\n        {isResolved && response.item.id}\n        {isRejected && error.message}\n        {isCompleted && 'All done!'}\n        {isRefreshing && '...getting latest'}\n        {isCanceled && 'Sorry, interrupted!'}\n\n        {startTime && 'Started at ' + startTime }\n        {endTime && 'Ended at' + endTime }\n        {elapsedTime && 'That took' + elapsedTime + 'milliseconds' }\n        {lastModified && 'Last change ' + lastModified }\n      </div>\n    )\n  }\n  "))))}var y=function(){return a.a.createElement("div",null,a.a.createElement(k,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},37:function(e,t,n){e.exports=n(323)},42:function(e,t,n){}},[[37,1,2]]]);
//# sourceMappingURL=main.95f5a53c.chunk.js.map